<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Traders</title>
    <link href="{{ url_for('static', filename='favicon.ico') }}" rel="icon" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</html>


</head>
<body>
    <header id="header" class="header d-flex align-item-center fixed-top">
        <div class="container d-flex align-item-center justify-content-between">
            <a class="logo d-flex align-item-center me-auto">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" class="logo-img">
                <h1 class="site-name">Stocker</h1>
            </a>
            <nav id="navmenu" class="navmenu">
                <ul class="d-flex align-item-center mb-0">
                    <li><a href="/dashboard_admin.html">Admin Dashboard</a></li>
                    <li><a href="/view_transactions.html">View Transactions</a></li>
                    <li><a href="/view_portfolios.html">View Portfolios</a></li>
                        </ul>
                    <li><a href="/login.html" class="btn btn-danger ms-4 px- py-2 round">Logout</a></li>
                </ul>
                <i class="mobile-nav-toggle bi bi-list"></i>
            </nav>

        </div>        
    </header>

    <main class="container" style="padding-top: 100px;">
        <h2 class="text-center">View Traders</h2>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Trader ID</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Protfolio value</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for trader in traders %}
                <tr>
                    <td>{{ trader.id }}</td>
                    <td>{{ trader.name }}</td>
                    <td>{{ trader.email }}</td>
                    <td> 
                        â‚¹{{ "%.2f"|format(trader.portfolio_value) }}

                    </td>
                    <td>
                        <from action="{{ url_for('delete_trader', trader_id=trader.id)}}" method="POST" style="display:inline" onsubmit="return confirm('Are you sure you want to delete this trader?')" class="d-inline">
                            <button type="submit" class="btn btn-danger">Delete</button>
                        </from>
                            <a href="/view_portfolios.html" class="btn btn-info">View Portfolio</a>   
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="mt-4">
            <div class="card-body">
            <div class="card-title">
                <h5 class="text-center">Total Traders: {{ traders|length }}</h5>

            </div>"
        </div>
    </div>
    </main>    
    <footer class="text-center mt-5">
        <p>&copy; 2023 Stocker. All rights reserved.</p>
    </footer>
</body>
</html>


